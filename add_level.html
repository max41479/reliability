<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Добавление уровня</title>
		<link rel="stylesheet" href="css/bootstrap.css">
	</head>
	<body>
    <script src="js/jquery-2.1.4.js"></script>
    <script src="js/bootstrap.js"></script>
		<div class="container">
			<div class="container">
				<h1>Добавление уровня</h1>
				<div id="result"></div>
				<form class="form-horizontal" role="form">
					<div class="form-group">
						<label for="name" class="col-md-4 control-label">Введите название уровня</label>
						<div class="col-md-2">
							<input type="text" class="form-control" name="name" id="name">
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-offset-4 col-md-2">
							<button class="btn btn-default" id="submit">Добавить уровень</button>
						</div>
					</div>
				</form>
				<a href="index.php" class="btn btn-default">На главную</a>
			</div>
		</div>
		<script>
			$(document).ready(function() {
				$( "#submit" ).click(function(event) {
					event.preventDefault();
					//collect input field values
					var name = $('input[name=name]').val();
					//data to be sent to server
					post_data = {'name':name};

					//Ajax post data to server
					$.post('add_level.php', post_data, function(data){

						//load success massage in #result div element, with slide effect.
						$("#result").hide().html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+data+'</div>').slideDown();

						//reset values in all input fields
						$('form input').val('');
						$('form textarea').val('');

					}).fail(function(err) {  //load any error data
						$("#result").hide().html('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+err.responseText+'</div>').slideDown();
					});
				});
			});
		</script>
	</body>
</html>